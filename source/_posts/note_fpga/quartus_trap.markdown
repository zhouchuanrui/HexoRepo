title: quartus又一坑
Status: Public
Tags: 
date: 2013-7-21 15:37:42
---

这两天项目中又出个问题。这个项目是之前项目的一个后续项目，板子重新画了的，大体结构还是一样，就是有细节上的微调。里面的FPGA管脚是当然就要重新配过，工作量很大啊。

测试的时候有个功能一直不对，这个时候用SignalTap看发现是ARM写命令和数据的地址完全不对。反复检查管脚没发现有错，然后把ARM扯了对着地址线一个个检查，发现就是地址线输入有问题，前面几个脚给输入SignalTap上面看的不对，后面脚倒是对的起来。

<!--more-->

然后拿同一批的另外的板子来测试还是同样的现象，这真是奇怪。

然后就这样弄来弄去搞了整整一天，管脚检查来检查去就是对的。后来我突然的就打开之前那个项目的工程，对着管脚一看，就发现了问题了。

搞来搞去我发现是这个管脚配置还是之前那个项目的管脚配置额。不过奇怪的地方是，**这个新项目绝对是在管脚配置之后重新编译过的。**

这个问题的解决办法是万能的——**删除db文件夹和incremental_db文件夹**。

这次算是Quartus坑的我最厉害的一次了，这是跟软件盗版有关系吗？

-----

2014-1-16 14:32:18 更新

这次我估计是找到问题原因了，那就是【Design Partition】设置。最近又有一个新的工程，之前都是没有设置【Design Partition】的，后面看看代码量也差不多了，就把几个大模块都设了【Post-fit】。凑巧是有一次要做测试，要交换两个管脚的位置。然后就是改了之后编译下载，用示波器一打，结果管脚的行为还是没有交互前的。之后又是删除了两个数据库文件夹重新编译才测到是正确的交互了。

看来是这个【Design Partition】要慎用。

